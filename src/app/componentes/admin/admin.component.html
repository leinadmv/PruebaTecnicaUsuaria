<div class="row" style="background: inherit;">

  <div class="col-2"></div>

  <div class="col-8">

    <br>
    <br>
    <div class="row">

      <div class="col-4">
        <button mat-raised-button color="secondary" (click)="modal.open(wishList, {size: 'xl'})">Lista de deseos</button>
      </div>
      <div class="col-6">
        <h1> Catalogo de productos </h1>
      </div>
      <div class="col-2">
        <button mat-raised-button color="secondary" (click)="cerrarSesion()">Cerrar sesi√≥n</button>
      </div>
    </div>
<br><br>
    <div>
      <h3>Cambio de tema</h3>
      <mat-slide-toggle fxLayout="column" [(ngModel)]="darkMode" (click)="changeTheme(darkMode)"></mat-slide-toggle>
    </div>


    <br>
    <br>
    <div class="mat-elevation-z4">
      <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="accion">
          <th class="start" mat-header-cell *matHeaderCellDef> Acciones</th>
          <td mat-cell *matCellDef="let row">
            <mat-icon (click)="addWishList(row)" class="iconoEditar">add</mat-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="id">
          <th style="padding-left: 20px; padding-right: 20px;" mat-header-cell *matHeaderCellDef> Id </th>
          <td style="padding-left: 20px; padding-right: 20px;" mat-cell *matCellDef="let row"> {{row.id}} </td>
        </ng-container>

        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef> Nombre </th>
          <td style="padding-left: 20px; padding-right: 20px;" mat-cell *matCellDef="let row"> {{row.nombre}} </td>
        </ng-container>

        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef> Descripcion </th>
          <td mat-cell *matCellDef="let row"> {{row.descripcion}} </td>
        </ng-container>

        <ng-container matColumnDef="referencia">
          <th mat-header-cell *matHeaderCellDef> Referencia </th>
          <td mat-cell *matCellDef="let row"> {{row.referencia}} </td>
        </ng-container>

        <ng-container matColumnDef="precio">
          <th mat-header-cell *matHeaderCellDef> Precio </th>
          <td mat-cell *matCellDef="let row"> {{row.precio}} </td>
        </ng-container>

        <ng-container matColumnDef="cantidad_stock">
          <th mat-header-cell *matHeaderCellDef> Cantidad en Stock </th>
          <td mat-cell *matCellDef="let row"> {{row.cantidad_stock}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
      <mat-paginator [pageSizeOptions]="[5, 10]" showFirstLastButtons aria-label="Select page of periodic elements">
      </mat-paginator>

    </div>

  </div>

  <div class="col-2"></div>

</div>

<!-- MODAL WISH LIST -->

<ng-template #wishList let-modal>
  <div class="modal-header text-center mt-3">
    <h1 class="w-100">Lista de deseos</h1>
    <button class="close" aria-label="close" type="button" (click)="modal.dismiss()">
      <span arial-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <div *ngIf="dataSourceWish.data.length == 0" class="text-center">
      <h2>
        Actualmente no tienes
        nada en tu lista de deseos.
      </h2>
    </div>
    <div *ngIf="dataSourceWish.data.length > 0">
      <table mat-table [dataSource]="dataSourceWish">

        <ng-container matColumnDef="accion">
          <th class="start" mat-header-cell *matHeaderCellDef> Acciones</th>
          <td mat-cell *matCellDef="let row">
            <mat-icon (click)="deleteWishList(row)" class="iconoEditar">delete_outline</mat-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="id">
          <th style="padding-left: 20px; padding-right: 20px;" mat-header-cell *matHeaderCellDef> Id </th>
          <td style="padding-left: 20px; padding-right: 20px;" mat-cell *matCellDef="let row"> {{row.id}} </td>
        </ng-container>

        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef> Nombre </th>
          <td style="padding-left: 20px; padding-right: 20px;" mat-cell *matCellDef="let row"> {{row.nombre}} </td>
        </ng-container>

        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef> Descripcion </th>
          <td mat-cell *matCellDef="let row"> {{row.descripcion}} </td>
        </ng-container>

        <ng-container matColumnDef="referencia">
          <th mat-header-cell *matHeaderCellDef> Referencia </th>
          <td mat-cell *matCellDef="let row"> {{row.referencia}} </td>
        </ng-container>

        <ng-container matColumnDef="precioU">
          <th mat-header-cell *matHeaderCellDef> Precio </th>
          <td mat-cell *matCellDef="let row"> {{row.precio}} </td>
        </ng-container>

        <ng-container matColumnDef="precioT">
          <th mat-header-cell *matHeaderCellDef> Precio total</th>
          <td mat-cell *matCellDef="let row"> {{row.total}} </td>
        </ng-container>

        <ng-container matColumnDef="cantidad_stock">
          <th mat-header-cell *matHeaderCellDef> Cantidad a vender </th>
          <td mat-cell *matCellDef="let row"> {{row.sell_stock}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsWishList"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsWishList;"></tr>

      </table>
      <mat-paginator [pageSizeOptions]="[5, 10]" showFirstLastButtons aria-label="Select page of periodic elements">
      </mat-paginator>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="modal.close()">OK</button>
  </div>
</ng-template>
